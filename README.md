# PDFusion

PDF 파일들을 유닛별로 자동 병합하는 도구입니다.

## 🚀 주요 기능

- **유닛별 PDF 병합**: 여러 카테고리의 PDF를 유닛별로 자동 병합
- **Review Test 자동 처리**: 각 구간의 마지막 유닛 뒤에 Review Test PDF 자동 병합
- **목차 페이지 감지**: 목차 페이지 자동 감지 및 처리
- **유닛 인식**: PDF 내용에서 유닛 정보 자동 추출
- **다중 디렉토리 처리**: 여러 폴더를 한 번에 처리
- **병합 순서 설정**: 사용자가 원하는 순서로 카테고리 병합 순서 지정

## 📋 요구사항

- Python 3.7+
- pypdf 또는 PyPDF2

## 🔧 설치

```bash
# 저장소 클론
git clone <repository-url>
cd PDFusion

# 의존성 설치
pip install -r requirements.txt
```

## 🎯 사용법

### 1. 기본 실행

```bash
python main.py
```

### 2. 사용 과정

1. **최상위 폴더 선택**: PDF 파일들이 있는 최상위 디렉토리 경로 입력
2. **폴더 선택**: 처리할 폴더 선택 (여러 개 선택 가능)
3. **파일 확인**: 자동으로 감지된 PDF 파일 목록 확인
4. **파일 제외**: 필요시 특정 파일 제외
5. **유닛 확인**: 자동 감지된 유닛 정보 확인 및 수정
6. **병합 순서 설정**: 카테고리별 병합 순서 지정
7. **병합 실행**: 모든 유닛 PDF 자동 생성

### 3. 지원하는 PDF 구조

- **유닛별 파일**: Unit 1.pdf, Unit 2.pdf 등
- **통합 파일**: 한 파일에 여러 유닛이 포함된 PDF
- **Review Test**: Units 01-04 Review Test.pdf 등

## 📁 출력 구조

```
output/
├── Folder1/
│   ├── Unit01.pdf
│   ├── Unit02.pdf
│   ├── Unit03.pdf
│   └── AllUnits.pdf
└── Folder2/
    ├── Unit01.pdf
    ├── Unit02.pdf
    └── AllUnits.pdf
```

## 🔍 주요 특징

### 유닛 인식
- PDF 텍스트에서 "Unit 1", "Unit 2" 등 자동 감지
- 분리된 텍스트도 정규화하여 인식
- 유닛이 감지되지 않으면 수동 입력 옵션 제공

### Review Test 처리
- 파일명에서 구간 정보 추출 (예: Units 01-04)
- 각 구간의 마지막 유닛 뒤에 자동 병합
- 병합 순서에서 제외하여 별도 처리

### 목차 페이지 감지
- 키워드 기반 목차 페이지 자동 감지
- 한 페이지에 여러 유닛이 나열된 경우 목차로 간주
- 사용자 확인 후 목차 페이지 제외 옵션

## 🛠️ 고급 기능

### 병합 순서 설정
```
카테고리 목록:
1. Unit Test
2. Grammar
3. Vocabulary

병합 순서 입력 (예: 2,1,3 또는 Enter=자동순서)
```

### 파일 제외 기능
```
제외할 파일 번호 또는 파일명 입력:
-3, -5, -파일명
```

### 유닛 수동 입력
유닛이 자동 감지되지 않을 경우:
```
유닛 수를 직접 입력하시겠습니까? (y/n): y
유닛 수를 입력하세요: 8
```

## 📝 예제

### 입력 구조
```
documents/
├── Book1/
│   └── prac book/
│       ├── Unit Test.pdf
│       ├── Grammar.pdf
│       ├── Vocabulary.pdf
│       └── Units 01-04 Review Test.pdf
└── Book2/
    └── prac book/
        ├── Unit Test.pdf
        ├── Grammar.pdf
        └── Units 01-03 Review Test.pdf
```

### 실행 결과
- 각 폴더별로 유닛 PDF 생성
- Review Test가 해당 구간 마지막 유닛 뒤에 병합
- 전체 합본 PDF 자동 생성

## 🐛 문제 해결

### PDF 텍스트 추출 문제
- PDF가 이미지로 되어 있는 경우 텍스트 추출이 안될 수 있습니다
- 이 경우 수동으로 유닛 수를 입력해주세요

### 유닛 인식 문제
- "Unit 1- Title" 형태의 텍스트도 정상 인식됩니다
- 분리된 텍스트는 자동으로 정규화됩니다

### Review Test 병합 위치
- 파일명에서 구간 정보를 추출합니다
- "Units 01-04" → Unit 4 뒤에 병합
- 구간 정보가 없으면 Unit 1 뒤에 병합

## 📄 라이선스

이 프로젝트는 개인 및 교육 목적으로 사용할 수 있습니다.

## 🤝 기여

버그 리포트나 기능 제안은 이슈로 등록해주세요.